import React from 'react';
import styles from './MyPosts.module.css';
import Post from './Post/Post';
import {addPostActionCreator, updateNewPostTextActionCreator}  from '../../../redux/profile-reducer';


const MyPosts = (props) => {

  let postsElements = 
  props.posts.map( p => <Post message={p.message} likesCount={p.likesCount}/>);

  let newPostElement = React.createRef();

  let onAddPost = () => {
    props.addPost();
  }

  let onPostChange = () => {
    let text = newPostElement.current.value;
    props.updateNewPostText(text);
  }

  return (
    <div className={styles.MyPosts}>
      <div className={styles.InputPost}>
        <img src='data:image/jpeg;base64,/9j/
          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
          mMEIQgMEIQmMEIQmMf//Z' />
         <textarea onChange={onPostChange} ref={newPostElement} 
                   value={props.newPostText} />
               
        <div className={styles.button}>
          <button onClick={onAddPost}>Add post</button>
        </div>
      </div>
      <div className={styles.posts}>
        {postsElements}
      </div>      
    </div> 
  )  
}

export default MyPosts;